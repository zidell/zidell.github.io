{"version":3,"sources":["Block.js","Source.js","Preview.js","Html.js","store.js","App.js","index.js"],"names":["Block","className","this","props","react_default","a","createElement","concat","children","Component","observer","Source","_this$props","title","changeTitle","data","changeData","src_Block_0","type","value","onChange","placeholder","tabIndex","cols","rows","Preview","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","isLoading","html","autoBind","assertThisInitialized","timeout","_this2","setState","clearTimeout","setTimeout","nextProps","delayPreview","_this3","_this$state","ref","r","iframe","src","encodeURI","Html","$","textarea","select","selectAll","readOnly","onFocus","onClick","store","observable","localStorage","getItem","actions","action","e","target","setItem","convertAll","bodyArr","trim","split","forEach","row","push","getTagByType","join","getStyle","youtube_parser","url","match","length","tagImage","imageUrl","alt","tagAnchor","tagYoutube","tmp","i","toLowerCase","indexOf","replace","App","src_Source_0","src_Preview_0","src_Html_0","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.f890d9aa.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Block.scss';\nimport { observer } from 'mobx-react';\n\nclass Block extends Component {\n\trender() {\n\t\tconst { className } = this.props;\n\t\treturn (\n\t\t\t<div className={`Block ${className}`}>{this.props.children}</div>\n\t\t);\n\t}\n}\n\nexport default observer(Block);\n","import React, { Component } from 'react';\nimport './Source.scss';\nimport Block from './Block';\nimport { observer } from 'mobx-react';\n\nclass Source extends Component {\n\trender() {\n\t\tconst { title, changeTitle, data, changeData } = this.props;\n\t\treturn (\n\t\t\t<Block className=\"Source\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={title}\n\t\t\t\t\tonChange={changeTitle}\n\t\t\t\t\tplaceholder=\"Title\"\n\t\t\t\t\ttabIndex={1}\n\t\t\t\t/>\n\t\t\t\t<textarea\n\t\t\t\t\tcols=\"30\"\n\t\t\t\t\trows=\"10\"\n\t\t\t\t\tvalue={data}\n\t\t\t\t\tonChange={changeData}\n\t\t\t\t\tplaceholder=\"Data source\"\n\t\t\t\t\ttabIndex={1}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<p>아래의 방법으로 한 줄씩 입력</p>\n\t\t\t\t\t<span>이미지주소 | 설명</span>\n\t\t\t\t\t<span>이미지주소 | 설명 | 링크타겟</span>\n\t\t\t\t\t<span>유투브주소</span>\n\t\t\t\t</div>\n\t\t\t</Block>\n\t\t);\n\t}\n}\n\nexport default observer(Source);\n","import React, { Component } from 'react';\nimport './Preview.scss';\nimport Block from './Block';\nimport { observer } from 'mobx-react';\nimport autoBind from 'auto-bind';\n\nclass Preview extends Component {\n\tstate = {\n\t\tisLoading: false,\n\t\thtml: '',\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tautoBind(this);\n\n\t\tthis.timeout = null;\n\t}\n\n\tdelayPreview(html) {\n\t\tthis.setState({\n\t\t\tisLoading: true,\n\t\t});\n\t\tif (this.timeout !== null) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\t\tthis.timeout = setTimeout(() => {\n\t\t\tthis.setState({\n\t\t\t\tisLoading: false,\n\t\t\t\thtml,\n\t\t\t});\n\t\t\tthis.timeout = null;\n\t\t}, 1400);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.html !== this.state.html) {\n\t\t\tthis.delayPreview(nextProps.html);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { isLoading, html } = this.state;\n\t\treturn (\n\t\t\t<Block className=\"Preview\">\n\t\t\t\t<div>\n\t\t\t\t\t<div className={isLoading ? 'now-loading' : ''} />\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tref={r => {\n\t\t\t\t\t\t\tthis.iframe = r;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttitle=\"preview\"\n\t\t\t\t\t\tsrc={`data:text/html;charset=utf-8,${encodeURI(html)}`}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Block>\n\t\t);\n\t}\n}\n\nexport default observer(Preview);\n","import React, { Component } from 'react';\nimport './Html.scss';\nimport Block from './Block';\nimport $ from 'jquery';\nimport autoBind from 'auto-bind';\nimport { observer } from 'mobx-react';\n\nclass Html extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tautoBind(this);\n\t}\n\n\tselectAll() {\n\t\t$(this.textarea).select();\n\t}\n\n\trender() {\n\t\tconst { selectAll } = this;\n\t\tconst { html } = this.props;\n\t\treturn (\n\t\t\t<Block className=\"Html\">\n\t\t\t\t<textarea\n\t\t\t\t\tref={r => {\n\t\t\t\t\t\tthis.textarea = r;\n\t\t\t\t\t}}\n\t\t\t\t\tvalue={html}\n\t\t\t\t\treadOnly={true}\n\t\t\t\t\ttabIndex={1}\n\t\t\t\t\tcols=\"30\"\n\t\t\t\t\trows=\"10\"\n\t\t\t\t\tonFocus={selectAll}\n\t\t\t\t\tonClick={selectAll}\n\t\t\t\t/>\n\t\t\t</Block>\n\t\t);\n\t}\n}\n\nexport default observer(Html);\n","import { observable, action } from 'mobx';\nconst defaultExample = `http://via.placeholder.com/800x1200 | 이미지에 대한 설명1\n\nhttps://www.youtube.com/watch?v=SZIwfrlMdn8&t=4s\n\nhttp://via.placeholder.com/800x200 | https://google.com | 링크 이미지에 대한 설명2\n`;\n\nconst store = observable({\n\ttitle: localStorage.getItem('title') || '',\n\tdata: localStorage.getItem('data') || defaultExample,\n\thtml: '',\n});\n\nconst actions = {\n\tchangeTitle: action(e => {\n\t\tstore.title = e.target.value;\n\t\tlocalStorage.setItem('title', store.title);\n\t\tactions.convertAll();\n\t}),\n\tchangeData: action(e => {\n\t\tstore.data = e.target.value;\n\t\tlocalStorage.setItem('data', store.data);\n\t\tactions.convertAll();\n\t}),\n\tconvertAll: action(() => {\n\t\tconst joinChar = '';\n\t\tlet html = '';\n\n\t\t// prepare meta\n\t\tconst metaArr = [\n\t\t\t'<meta charset=\"utf-8\" />',\n\t\t\t'<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />',\n\t\t\t'<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />',\n\t\t];\n\n\t\t// prepare body\n\t\tconst bodyArr = [];\n\n\t\t// convert each row to markup\n\t\tconst rows = store.data.trim().split('\\n');\n\t\trows.forEach(row => {\n\t\t\tbodyArr.push(actions.getTagByType(row.trim()));\n\t\t});\n\n\t\t// prepare to merge\n\t\thtml += [\n\t\t\t'<!--',\n\t\t\t'\\n',\n\t\t\t'\\n',\n\t\t\t'- title :',\n\t\t\t'\\n',\n\t\t\tstore.title,\n\t\t\t'\\n',\n\t\t\t'\\n',\n\t\t\t'- data :',\n\t\t\t'\\n',\n\t\t\tstore.data,\n\t\t\t'\\n',\n\t\t\t'\\n',\n\t\t\t'-->',\n\t\t\t'\\n',\n\t\t].join(joinChar);\n\n\t\t// merge basic skeleton\n\t\thtml += [\n\t\t\t'<!DOCTYPE html>',\n\t\t\t'<html lang=\"ko\">',\n\t\t\t'<head>',\n\t\t\t'<title>',\n\t\t\tstore.title,\n\t\t\t'</title>',\n\t\t].join(joinChar);\n\n\t\t// merge meta\n\t\thtml += metaArr.join(joinChar);\n\n\t\t// merge style\n\t\thtml += actions.getStyle();\n\n\t\t// close head and star body\n\t\thtml += ['</head><body>'].join(joinChar);\n\n\t\t// merge body\n\t\thtml += bodyArr.join(joinChar);\n\n\t\t// close body and complete\n\t\thtml += ['</body></html>'].join(joinChar);\n\n\t\tstore.html = html;\n\t}),\n\n\tyoutube_parser: url => {\n\t\tvar regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&\\?]*).*/;\n\t\tvar match = url.match(regExp);\n\t\treturn match && match[7].length === 11 ? match[7] : false;\n\t},\n\n\ttagImage: (imageUrl, alt) => {\n\t\treturn '<img src=\"' + imageUrl + '\" alt=\"' + alt + '\"/>';\n\t},\n\ttagAnchor: (imageUrl, url, alt) => {\n\t\treturn (\n\t\t\t'<a title=\"' +\n\t\t\talt +\n\t\t\t'\" href=\"' +\n\t\t\turl +\n\t\t\t'\" target=\"_blank\">' +\n\t\t\tactions.tagImage(imageUrl, alt) +\n\t\t\t'</a>'\n\t\t);\n\t},\n\n\ttagYoutube: row => {\n\t\treturn [\n\t\t\t'<div class=\"videoWrapper\">',\n\t\t\t'<iframe',\n\t\t\t' width=\"560\"',\n\t\t\t' height=\"315\"',\n\t\t\t' src=\"https://www.youtube.com/embed/' +\n\t\t\t\tactions.youtube_parser(row) +\n\t\t\t\t'\"',\n\t\t\t' frameborder=\"0\"',\n\t\t\t' allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"',\n\t\t\t' allowfullscreen',\n\t\t\t'></iframe>',\n\t\t\t'</div>',\n\t\t].join('');\n\t},\n\tgetTagByType: row => {\n\t\tif (row === '') {\n\t\t\treturn '';\n\t\t}\n\t\tvar tmp = row.split('|');\n\t\tif (typeof tmp[1] === 'undefined') {\n\t\t\ttmp[1] = '';\n\t\t}\n\t\tif (typeof tmp[2] === 'undefined') {\n\t\t\ttmp[2] = '';\n\t\t}\n\t\tfor (var i in tmp) {\n\t\t\ttmp[i] = tmp[i].trim();\n\t\t}\n\t\tvar lowerRow = row.toLowerCase();\n\t\tif (lowerRow.indexOf('youtube.com/') > -1) {\n\t\t\treturn actions.tagYoutube(tmp[0]);\n\t\t} else if (\n\t\t\ttmp[1].indexOf('http') === 0 ||\n\t\t\ttmp[2].indexOf('http') === 0\n\t\t) {\n\t\t\tvar url = tmp[1].indexOf('http') === 0 ? tmp[1] : tmp[2];\n\t\t\tvar alt = tmp[1].indexOf('http') === 0 ? tmp[2] : tmp[1];\n\t\t\treturn actions.tagAnchor(\n\t\t\t\ttmp[0],\n\t\t\t\turl,\n\t\t\t\talt.replace(/[\"']/g, '&quot;')\n\t\t\t);\n\t\t}\n\t\treturn actions.tagImage(tmp[0], tmp[1]);\n\t},\n\tgetStyle: () => {\n\t\treturn [\n\t\t\t'<style>',\n\t\t\t'html {',\n\t\t\t'margin: 0;',\n\t\t\t'padding: 0;',\n\t\t\t'}',\n\t\t\t'body {',\n\t\t\t'padding: 0;',\n\t\t\t'margin: 0 auto;',\n\t\t\t'max-width: 600px;',\n\t\t\t'}',\n\t\t\t'img,',\n\t\t\t'a {',\n\t\t\t'display: block;',\n\t\t\t'margin: 0 auto;',\n\t\t\t'width: 100%;',\n\t\t\t'}',\n\t\t\t'.videoWrapper {',\n\t\t\t'margin: 0 auto;',\n\t\t\t'position: relative;',\n\t\t\t'padding-bottom: 56.25%; /* 16:9 */',\n\t\t\t'height: 0;',\n\t\t\t'}',\n\t\t\t'.videoWrapper iframe {',\n\t\t\t'position: absolute;',\n\t\t\t'top: 0;',\n\t\t\t'left: 0;',\n\t\t\t'width: 100%;',\n\t\t\t'height: 100%;',\n\t\t\t'}',\n\t\t\t'</style>',\n\t\t].join('');\n\t},\n};\n\nexport { store, actions };\n","import React, { Component } from 'react';\nimport './App.scss';\nimport Source from './Source';\nimport Preview from './Preview';\nimport Html from './Html';\nimport { store, actions } from './store';\nimport { observer } from 'mobx-react';\n\nclass App extends Component {\n\tcomponentDidMount() {\n\t\tactions.convertAll();\n\t}\n\n\trender() {\n\t\tconst { title, data, html } = store;\n\t\tconst { changeTitle, changeData } = actions;\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<Source\n\t\t\t\t\ttitle={title}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tchangeTitle={changeTitle}\n\t\t\t\t\tchangeData={changeData}\n\t\t\t\t/>\n\t\t\t\t<Preview html={html} />\n\t\t\t\t<Html html={html} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default observer(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}